

## เพิ่มฟีเจอร์สั่งยาและดูประวัติยา

### สถานะปัจจุบัน

ฐานข้อมูลมีตาราง `medicines` และ `prescriptions` อยู่แล้ว รวมถึง hooks สำหรับดึงข้อมูลยาและใบสั่งยา แต่ยังขาด UI สำหรับแพทย์ในการ **เพิ่มคำสั่งยา** จากหน้ารายละเอียดผู้ป่วย หน้าประวัติยาของผู้ป่วย (Patient Portal) มีอยู่แล้ว

### สิ่งที่จะทำ

#### 1. เพิ่มปุ่มและ Dialog สั่งยาในหน้ารายละเอียดผู้ป่วย
**ไฟล์:** `src/pages/PatientDetail.tsx`

- เพิ่มปุ่ม "เพิ่มคำสั่งยา" ในแท็บ "ประวัติยา"
- สร้าง Dialog สำหรับกรอกข้อมูลคำสั่งยา ประกอบด้วย:
  - เลือก Visit ที่ต้องการผูกคำสั่งยา (dropdown จาก visits ของผู้ป่วย)
  - เลือกยาจากรายการยา (dropdown จากตาราง medicines)
  - กรอกจำนวน
  - กรอกวิธีใช้ยา
- เพิ่มปุ่มลบคำสั่งยาในแต่ละรายการ

#### 2. ไม่มีการเปลี่ยนแปลงฐานข้อมูล
ตาราง `medicines` และ `prescriptions` พร้อม RLS policies มีอยู่แล้วและครบถ้วน

#### 3. ไม่ต้องเปลี่ยน Patient Portal
หน้า `PatientMedicationHistory.tsx` มีอยู่แล้วและแสดงประวัติยาได้ถูกต้อง

### รายละเอียดทางเทคนิค

- ใช้ hooks ที่มีอยู่: `useMedicines`, `useCreatePrescription`, `useDeletePrescription` จาก `usePrescriptions.ts` และ `useMedicines.ts`
- Dialog จะแสดง combobox/select สำหรับเลือกยา พร้อมแสดงชื่อไทยและอังกฤษ
- เมื่อบันทึกสำเร็จ จะ invalidate query เพื่อรีเฟรชข้อมูลทั้งหน้า PatientDetail และ Patient Portal
- คำสั่งยาผูกกับ visit_id ตามโครงสร้างเดิม แพทย์ต้องเลือก visit ที่เกี่ยวข้อง

